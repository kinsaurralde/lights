[   
    {
        "type": "requirement",
        "key": false,
        "write": "no"
    },{
        "function": "set_function",
        "type": "variable",
        "name": "christmas_loop",
        "arguments": {},
        "value": [{
            "function": "loop",
            "type": "control",
            "arguments": {
                "amount": "forever"
            },
            "loop": [
                {
                    "function": "loop",
                    "type": "control",
                    "arguments": {
                        "amount": 6
                    },
                    "loop": [
                        {
                            "type": "run",
                            "function": "fade_alt",
                            "arguments": {
                                "target": 0,
                                "wait_ms": 1250,
                                "steps": 100,
                                "color": "random"
                            }
                        },{
                            "function": "wait",
                            "type": "command",
                            "arguments": {
                                "amount": 1500
                            }
                        }
                    ]
                },{
                    "function": "loop",
                    "type": "control",
                    "arguments": {
                        "amount": 20
                    },
                    "loop": [
                        {
                            "function": "wipe",
                            "type": "thread",
                            "strip_id": 1,
                            "arguments": {
                                "color": "$red",
                                "direction": 1,
                                "wait_ms": 1000,
                                "wait_total": true
                            }
                        },{
                            "function": "wipe",
                            "type": "thread",
                            "strip_id": 2,
                            "arguments": {
                                "color": "$green",
                                "direction": -1,
                                "wait_ms": 1000,
                                "wait_total": true
                            }
                        },{
                            "function": "wait",
                            "type": "command",
                            "arguments": {
                                "amount": 1000
                            }
                        },{
                            "function": "wipe",
                            "type": "thread",
                            "strip_id": 2,
                            "arguments": {
                                "color": "$red",
                                "direction": 1,
                                "wait_ms": 1000,
                                "wait_total": true
                            }
                        },{
                            "function": "wipe",
                            "type": "thread",
                            "strip_id": 1,
                            "arguments": {
                                "color": "$green",
                                "direction": -1,
                                "wait_ms": 1000,
                                "wait_total": true
                            }
                        },{
                            "function": "wait",
                            "type": "command",
                            "arguments": {
                                "amount": 1000
                            }
                        }
                    ]
                },{
                    "type": "animate",
                    "function": "pulse_pattern",
                    "strip_id": 0,
                    "arguments": {
                        "colors": [[0,0,0], [0,0,255]],
                        "length": 24,
                        "wait_ms": 50,
                        "wait_total": false,
                        "spacing": 1,
                        "direction": 1
                    }
                },{
                    "type": "command",
                    "function": "wait",
                    "arguments": {
                        "amount": 20000
                    }
                },{
                    "type": "animate",
                    "function": "pulse_pattern",
                    "strip_id": 0,
                    "arguments": {
                        "colors": [[255,0,0], [0,255,0]],
                        "length": 24,
                        "wait_ms": 50,
                        "wait_total": false,
                        "spacing": 1,
                        "direction": -1
                    }
                },{
                    "type": "command",
                    "function": "wait",
                    "arguments": {
                        "amount": 20000
                    }
                }
            ]
        }]
    },{
        "function": "execute",
        "type": "control",
        "value": "$christmas_loop"
    }
]